---
sidebar_position: 2000
id: React核心API：Children源码
title: React核心API：Children源码
---
从源码中可以看出React暴露出来的API：

```javascript
const Children = {
  map,
  forEach,
  count,
  toArray,
  only,
};

export {
  Children,
 
};
```
其他的API暂时略过。
## Children
Children对象给我们提供了很多处理props.children的方法：forEach, map, count, toArray, only

在react/src/React.js中找到这几个方法：`import {forEach, map, count, toArray, only} from './ReactChildren';`，它是从外面引入的，再定位找到ReactChildren文件。

在之前创建的调试源码项目中创建代码段：

```javascript
import './App.css';
function Child(props) {
  console.log("props", props)
  return <div>{props.children}</div>
}
function Container() {
  return <Child>
    <p>这是一个p标签</p>
    <div>这是一个div标签</div>
  </Child>
}

function App() {
  return (
    <div className="App">
      <header className="App-header">
        <Container />
      </header>
    </div>
  );
}

export default App;

```
#### map函数
遍历children，源码为：

```javascript
function mapChildren(
  children: ?ReactNodeList,
  func: MapFunc,
  context: mixed,
): ?Array<React$Node> {
  if (children == null) {
    return children;
  }
  const result = [];
  let count = 0;
  mapIntoArray(children, result, '', '', function(child) {
    return func.call(context, child, count++);
  });
  return result;
}
```
因为props.children不是一个数组，是类数组，所封装的mapIntoArray方法，就是用来处理类型此处类数组的。

更新中...